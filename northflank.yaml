version: "1.0"
spec:
  kind: Workflow
  spec:
    type: Deployment
    context:
      stack: backend
    spec:
      kind: DeploymentService
      name: sarkari-result-backend
      billing:
        deploymentPlan: nf-compute-10
      deployment:
        instances: 1
        docker:
          configType: dockerfile
        internal:
          id: sarkari-result-backend
          branch: main
          projectRoot: /backend
          dockerfile:
            buildEngine: kaniko
            dockerFilePath: /Dockerfile
            dockerWorkDir: /backend
      ports:
        - name: web
          internalPort: 5000
          protocol: HTTP
          public: true
      runtimeEnvironment:
        - name: NODE_ENV
          value: production
        - name: PORT
          value: "5000"